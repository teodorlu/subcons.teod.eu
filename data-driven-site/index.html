<!doctype html>
<html><head><meta charset="utf-8" /><title>Aspirational TODO</title><link href="style.css" rel="stylesheet" /><meta content="width=device-width, initial-scale=1" name="viewport" /><link href="/solarpunk1.svg" rel="icon" type="image/svg+xml" /></head><body><main><section><p><a href="..">..</a></p><h1 style="color: #252525">A data-driven approach to static sites</h1><p>My <a href="https://www.teodorheggelund.com/">old static site</a> setup was complex. I didn&apos;t really know how it worked. And it took half an hour to compile. Why? I used <a href="https://jaspervdj.be/hakyll/">Hakyll</a> (which is great), and compiled Pandoc from source (which I don&apos;t recommend). I&apos;ve seriously enjoyed playing with <a href="https://medium.com/@kentbeck_7670/test-commit-revert-870bbd756864">TCR</a>. Technically, TCR nudges you to minimize the time from having your code in one working state, to having your code in another working state. I wanted something similar, but with the flexibility of playing around with raw HTML, and raw CSS. Also, I wanted something that&apos;s really simple to <em>escape</em> from. Take the repo, delete everything not HTML and CSS, and you have an archive. Built to last.</p><p><em>Tell me, how does it work?</em> I write straight into an <a href="https://github.com/teodorlu/subcons.teod.eu/blob/d00584b6fa4c1f2191cc409bd64b4243725860f5/data-driven-site/index.edn">EDN file</a>. If anyone wants to learn structural editing, writing a blog post in EDN is great exercise. Then the <a href="https://github.com/teodorlu/subcons.teod.eu/blob/9415c8ead50d4cd14f32ad077ddd5c3f97b9fdc1/src/teod/subcons/build.clj">build system</a> picks up the data, dispatching based on metadata in the EDN file. Finally, an <a href="https://github.com/teodorlu/subcons.teod.eu/blob/d00584b6fa4c1f2191cc409bd64b4243725860f5/data-driven-site/index.html">HTML file</a> is produced.</p><p><em>But .. writing in Markdown or Org-mode is kind of nice.</em> Sure! I&apos;m thinking of providing a <em>:teod.subcons/transformers</em>-transformer with functions for loading markdown or org-mode files. Then I can keep control of each page, and embed content where I want. Sounds interesting? Just steal this code and try. I&apos;m afraid this mess of ideas is not suitable for collaboration. Also, error handling sucks right now. On the bright side, you&apos;re only working on a <em>single</em> document at a time, so if you keep your EDN to a page height you can possibly eyeball your error.</p><p><em>Should I use this?</em> If you want to download something that works, this is not for you. If you want to experiment with your </p><p>Nods thanks go to <a href="https://twitter.com/magnars/">Magnar Sveen</a>, <a href="https://twitter.com/jackrusher">Jack Rusher</a> for simple approaches to HTML with Clojure, and to <a href="https://twitter.com/jraregris">Oddmund Str√∏mme</a> for discissions related to TCR and other things.</p><p>View this page on web: <a href="https://subcons.teod.eu/simple-static/" target="_blank">https://subcons.teod.eu/simple-static/</a></p></section></main></body></html>